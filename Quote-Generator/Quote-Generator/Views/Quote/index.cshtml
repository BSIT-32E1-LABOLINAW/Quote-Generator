<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quote Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Custom styles */
        body {
            background-color: #f8f9fa;
        }

        .containers {
            margin-top: 50px;
        }

        .containers h2{
            text-align:center;
        }

        blockquote {
            background-color: #fff;
            border-left: 5px solid #007bff;
            padding: 20px;
            border-radius: 5px;
            position: relative;
        }

            blockquote footer {
                margin-top: 10px;
                text-align: center;
                font-size: 18px;
            }

        .btn-generate {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

            .btn-generate:hover {
                background-color: #0056b3;
            }

        .quote-link {
            color: #007bff;
            cursor: pointer;
        }

            .quote-link:hover {
                text-decoration: underline;
                cursor: pointer;
            }

        .copy-icon {
            position: absolute;
            bottom: 10px;
            right: 10px;
            cursor: pointer;
            color: #007bff;
        }
    </style>
</head>
<body>
    <div class="containers">
        <!-- QUOTE GENERETOR SECTION -->
        <h2>Random Quote Generator</h2>
        <div id="quoteContainer" class="text-center">
            <blockquote id="quote" style="display: none;">
                <p><span id="quoteText"></span></p>
                <footer><span id="quoteAuthor"></span><i class="fas fa-copy copy-icon" onclick="copyQuoteToClipboard()"></i></footer>
            </blockquote>
            <button id="generateQuoteBtn" class="btn btn-generate" onclick="generateRandomQuote()">Generate Random Quote</button>
        </div>

        <!-- BROWES QUOTES SECTION-->
        <div id="browseQuotesContainer" class="mt-5">
            <h2 class="text-center mb-4">Browse Quotes</h2>
            <ul id="quoteList" class="list-group">
            </ul>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script>
        async function generateRandomQuote() {
            // Clear any existing quote
            document.getElementById('quoteText').textContent = '';
            document.getElementById('quoteAuthor').textContent = '';

            try {
                // Fetch a random quote from the Quotable API
                const response = await fetch('https://api.quotable.io/random');
                const data = await response.json();

                // Update the quote text and author on the page
                document.getElementById('quoteText').textContent = data.content;
                document.getElementById('quoteAuthor').textContent = data.author;

                // Display the quote
                document.getElementById('quote').style.display = 'block';
            } catch (error) {
                console.error('Error:', error);
            }
        }

        async function browseQuotes() {
            try {
                // Fetch up to 10 quotes from the Quotable API
                const response = await fetch('https://api.quotable.io/quotes?limit=17');
                const data = await response.json();

                // Clear existing quotes
                document.getElementById('quoteList').innerHTML = '';

                // Display quotes in the list
                data.results.forEach(quote => {
                    const listItem = document.createElement('li');
                    listItem.classList.add('quoteItem', 'list-group-item');
                    const link = document.createElement('a');
                    link.classList.add('quoteLink');
                    link.innerHTML = `<span>${quote.content}</span> <span class="quoteAuthor">- ${quote.author}</span>`;
                    link.onclick = function () {
                        displayQuoteDetails(quote);
                    };
                    listItem.appendChild(link);
                    document.getElementById('quoteList').appendChild(listItem);
                });
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // When quote is pressed it will show in the quote generator box
        function displayQuoteDetails(quote) {
            // Update the displayed quote
            document.getElementById('quoteText').textContent = quote.content;
            document.getElementById('quoteAuthor').textContent = quote.author;
            // Show the quote
            document.getElementById('quote').style.display = 'block';
        }

        // Function to copy quote text to clipboard
        function copyQuoteToClipboard() {
            const quoteText = document.getElementById('quoteText').textContent;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = quoteText;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);
            alert('Quote copied to clipboard!');
        }

        // Load initial quotes when the page is loaded
        window.onload = function () {
            browseQuotes();
            generateRandomQuote(); 
        };
    </script>
</body>
</html>
